const axios = require("axios");
const fs = require("fs");
const path = require("path");

const post_audio_query = async (str, speaker) => {
  return await axios({
    url: "http://127.0.0.1:50021/audio_query",
    method: "post",
    params: { text: str, speaker },
    responseType: "json"
  });
};
const post_synthesis = async (query, speaker) => {
  return await axios({
    url: "http://127.0.0.1:50021/synthesis",
    method: "post",
    headers: { "content-type": "application/json" },
    params: { speaker },
    responseType: "arraybuffer",
    data: JSON.stringify(query)
  });
};

const AreaCode2Epicenter = {
  "011": "北海道地方",
  "012": "東北地方",
  "013": "北陸地方",
  "014": "関東、甲信地方",
  "015": "小笠原地方",
  "016": "東海地方",
  "017": "近畿地方",
  "018": "中国地方",
  "019": "四国地方",
  "020": "九州地方",
  "021": "沖縄地方",
  "100": "石狩地方、北部",
  "101": "石狩地方、中部",
  "102": "石狩地方、南部",
  "105": "渡島地方、北部",
  "106": "渡島地方、東部",
  "107": "渡島地方、西部",
  "110": "檜山地方",
  "115": "後志地方、北部",
  "116": "後志地方、東部",
  "117": "後志地方、西部",
  "120": "空知地方、北部",
  "121": "空知地方、中部",
  "122": "空知地方、南部",
  "125": "上川地方、北部",
  "126": "上川地方、中部",
  "127": "上川地方、南部",
  "130": "留萌地方、中北部",
  "131": "留萌地方、南部",
  "135": "宗谷地方、北部",
  "136": "宗谷地方、南部",
  "140": "網走地方",
  "141": "北見地方",
  "142": "紋別地方",
  "145": "胆振地方、西部",
  "146": "胆振地方、中東部",
  "150": "日高地方、西部",
  "151": "日高地方、中部",
  "152": "日高地方、東部",
  "155": "十勝地方、北部",
  "156": "十勝地方、中部",
  "157": "十勝地方、南部",
  "160": "釧路地方、北部",
  "161": "釧路地方、中南部",
  "165": "根室地方、北部",
  "166": "根室地方、中部",
  "167": "根室地方、南部",
  "180": "北海道、南西沖",
  "181": "北海道、西方沖",
  "182": "石狩湾",
  "183": "北海道、北西沖",
  "184": "宗谷海峡",
  "186": "国後島付近",
  "187": "択捉島付近",
  "188": "北海道、東方沖",
  "189": "根室半島、南東沖",
  "190": "釧路沖",
  "191": "十勝沖",
  "192": "浦河沖",
  "193": "苫小牧沖",
  "194": "内浦湾",
  "195": "宗谷、東方沖",
  "196": "網走沖",
  "197": "択捉島南東沖",
  "200": "青森県、津軽、北部",
  "201": "青森県、津軽、南部",
  "202": "青森県三八上北地方",
  "203": "青森県下北地方",
  "210": "岩手県沿岸北部",
  "211": "岩手県沿岸南部",
  "212": "岩手県内陸北部",
  "213": "岩手県内陸南部",
  "220": "宮城県、北部",
  "221": "宮城県、南部",
  "222": "宮城県、中部",
  "230": "秋田県沿岸北部",
  "231": "秋田県沿岸南部",
  "232": "秋田県内陸北部",
  "233": "秋田県内陸南部",
  "240": "山形県庄内地方",
  "241": "山形県最上地方",
  "242": "山形県村山地方",
  "243": "山形県置賜地方",
  "250": "福島県、中通り",
  "251": "福島県、浜通り",
  "252": "福島県、会津",
  "280": "津軽海峡",
  "281": "山形県沖",
  "282": "秋田県沖",
  "283": "青森県西方沖",
  "284": "陸奥湾",
  "285": "青森県東方沖",
  "286": "岩手県沖",
  "287": "宮城県沖",
  "288": "三陸沖",
  "289": "福島県沖",
  "300": "茨城県北部",
  "301": "茨城県南部",
  "309": "千葉県南東沖",
  "310": "栃木県北部",
  "311": "栃木県南部",
  "320": "群馬県北部",
  "321": "群馬県南部",
  "330": "埼玉県北部",
  "331": "埼玉県南部",
  "332": "埼玉県秩父地方",
  "340": "千葉県北東部",
  "341": "千葉県北西部",
  "342": "千葉県、南部",
  "349": "房総半島南方沖",
  "350": "東京都２３区",
  "351": "東京都多摩東部",
  "352": "東京都多摩西部",
  "360": "神奈川県、東部",
  "361": "神奈川県、西部",
  "370": "新潟県上越地方",
  "371": "新潟県中越地方",
  "372": "新潟県下越地方",
  "378": "新潟県下越沖",
  "379": "新潟県上中越沖",
  "380": "富山県、東部",
  "381": "富山県、西部",
  "390": "石川県能登地方",
  "391": "石川県加賀地方",
  "400": "福井県嶺北",
  "401": "福井県嶺南",
  "411": "山梨県、中・西部",
  "412": "山梨県東部・富士五湖",
  "420": "長野県、北部",
  "421": "長野県、中部",
  "422": "長野県、南部",
  "430": "岐阜県飛騨地方",
  "431": "岐阜県美濃東部",
  "432": "岐阜県美濃中西部",
  "440": "静岡県伊豆地方",
  "441": "静岡県、東部",
  "442": "静岡県、中部",
  "443": "静岡県、西部",
  "450": "愛知県、東部",
  "451": "愛知県、西部",
  "460": "三重県、北部",
  "461": "三重県、中部",
  "462": "三重県、南部",
  "469": "三重県南東沖",
  "471": "茨城県沖",
  "472": "関東、東方沖",
  "473": "千葉県東方沖",
  "475": "八丈島東方沖",
  "476": "八丈島、近海",
  "477": "東京湾",
  "478": "相模湾",
  "480": "伊豆大島近海",
  "481": "伊豆半島、東方沖",
  "482": "三宅島近海",
  "483": "新島、神津島、近海",
  "485": "駿河湾",
  "486": "駿河湾、南方沖",
  "487": "遠州灘",
  "489": "三河湾",
  "490": "伊勢湾",
  "492": "若狭湾",
  "493": "福井県沖",
  "494": "石川県西方沖",
  "495": "能登半島沖",
  "497": "富山湾",
  "498": "佐渡付近",
  "499": "東海道、南方沖",
  "500": "滋賀県北部",
  "501": "滋賀県南部",
  "510": "京都府北部",
  "511": "京都府南部",
  "520": "大阪府北部",
  "521": "大阪府南部",
  "530": "兵庫県北部",
  "531": "兵庫県南東部",
  "532": "兵庫県南西部",
  "540": "奈良県",
  "550": "和歌山県北部",
  "551": "和歌山県南部",
  "560": "鳥取県、東部",
  "562": "鳥取県、中部",
  "563": "鳥取県、西部",
  "570": "島根県東部",
  "571": "島根県西部",
  "580": "岡山県北部",
  "581": "岡山県南部",
  "590": "広島県北部",
  "591": "広島県南東部",
  "592": "広島県南西部",
  "600": "徳島県北部",
  "601": "徳島県南部",
  "610": "香川県、東部",
  "611": "香川県、西部",
  "620": "愛媛県、東予",
  "621": "愛媛県、中予",
  "622": "愛媛県、南予",
  "630": "高知県、東部",
  "631": "高知県、中部",
  "632": "高知県、西部",
  "673": "土佐湾",
  "674": "紀伊水道",
  "675": "大阪湾",
  "676": "播磨灘",
  "677": "瀬戸内海、中部",
  "678": "安芸灘",
  "679": "周防灘",
  "680": "伊予灘",
  "681": "豊後水道",
  "682": "山口県北西沖",
  "683": "島根県沖",
  "684": "鳥取県沖",
  "685": "隠岐島、近海",
  "686": "兵庫県北方沖",
  "687": "京都府沖",
  "688": "淡路島付近",
  "689": "和歌山県南方沖",
  "700": "山口県、北部",
  "702": "山口県、西部",
  "703": "山口県、東部",
  "704": "山口県、中部",
  "710": "福岡県福岡地方",
  "711": "福岡県北九州地方",
  "712": "福岡県筑豊地方",
  "713": "福岡県筑後地方",
  "720": "佐賀県、北部",
  "721": "佐賀県、南部",
  "730": "長崎県北部",
  "731": "長崎県南西部",
  "732": "長崎県島原半島",
  "740": "熊本県阿蘇地方",
  "741": "熊本県熊本地方",
  "742": "熊本県球磨地方",
  "743": "熊本県天草・芦北地方",
  "750": "大分県、北部",
  "751": "大分県、中部",
  "752": "大分県、南部",
  "753": "大分県、西部",
  "760": "宮崎県、北部、平野部",
  "761": "宮崎県、北部、山沿い",
  "762": "宮崎県、南部、平野部",
  "763": "宮崎県、南部、山沿い",
  "770": "鹿児島県薩摩地方",
  "771": "鹿児島県大隅地方",
  "783": "五島列島、近海",
  "784": "天草灘",
  "785": "有明海",
  "786": "橘湾",
  "787": "鹿児島湾",
  "790": "種子島、近海",
  "791": "日向灘",
  "793": "奄美大島、近海",
  "795": "壱岐・対馬近海",
  "796": "福岡県北西沖",
  "797": "薩摩半島、西方沖",
  "798": "トカラ列島、近海",
  "799": "奄美大島、北西沖",
  "820": "大隅半島、東方沖",
  "821": "九州地方、南東沖",
  "822": "種子島、南東沖",
  "823": "奄美大島、北東沖",
  "850": "沖縄本島、近海",
  "851": "南大東島、近海",
  "852": "沖縄本島、南方沖",
  "853": "宮古島、近海",
  "854": "石垣島、近海",
  "855": "石垣島、南方沖",
  "856": "西表島付近",
  "857": "与那国島、近海",
  "858": "沖縄本島、北西沖",
  "859": "宮古島、北西沖",
  "860": "石垣島、北西沖",
  "900": "台湾付近",
  "901": "東シナ海",
  "902": "四国沖",
  "903": "鳥島、近海",
  "904": "鳥島東方沖",
  "905": "オホーツク海南部",
  "906": "サハリン、西方沖",
  "907": "日本海、北部",
  "908": "日本海、中部",
  "909": "日本海、西部",
  "911": "父島近海",
  "912": "千島列島",
  "913": "千島列島、南東沖",
  "914": "北海道、南東沖",
  "915": "東北地方、東方沖",
  "916": "小笠原諸島、西方沖",
  "917": "硫黄島近海",
  "918": "小笠原諸島、東方沖",
  "919": "南海道南方沖",
  "920": "薩南諸島、東方沖",
  "921": "本州、南方沖",
  "922": "サハリン、南部付近",
  "930": "北西太平洋",
  "932": "マリアナ諸島",
  "933": "黄海",
  "934": "朝鮮半島、南部",
  "935": "朝鮮半島、北部",
  "936": "中国、東北部",
  "937": "ウラジオストク付近",
  "938": "シベリア南部",
  "939": "サハリン、近海",
  "940": "アリューシャン列島",
  "941": "カムチャツカ半島付近",
  "942": "北米西部",
  "943": "北米中部",
  "944": "北米東部",
  "945": "中米",
  "946": "南米西部",
  "947": "南米中部",
  "948": "南米東部",
  "949": "北東太平洋",
  "950": "南太平洋",
  "951": "インドシナ半島付近",
  "952": "フィリピン付近",
  "953": "インドネシア付近",
  "954": "グアム付近",
  "955": "ニューギニア付近",
  "956": "ニュージーランド付近",
  "957": "オーストラリア付近",
  "958": "シベリア付近",
  "959": "ロシア、西部",
  "960": "ロシア、中部",
  "961": "ロシア、東部",
  "962": "中央アジア",
  "963": "中国、西部",
  "964": "中国、中部",
  "965": "中国、東部",
  "966": "インド付近",
  "967": "インド洋",
  "968": "中東",
  "969": "ヨーロッパ、西部",
  "970": "ヨーロッパ、中部",
  "971": "ヨーロッパ、東部",
  "972": "地中海",
  "973": "アフリカ西部",
  "974": "アフリカ中部",
  "975": "アフリカ東部",
  "976": "北大西洋",
  "977": "南大西洋",
  "978": "北極付近",
  "979": "南極付近",
  "999": "遠地"
};

const AreaForecastLocalM_ground = {
  "011000": { "name": "宗谷地方", "kana": "そうやちほう" },
  "012010": { "name": "上川地方", "kana": "かみかわちほう" },
  "012020": { "name": "留萌地方", "kana": "るもいちほう" },
  "013000": { "name": "網走・北見・紋別地方", "kana": "あばしりきたみもんべつちほう" },
  "014030": { "name": "十勝地方", "kana": "とかちちほう" },
  "014100": { "name": "釧路・根室地方", "kana": "くしろねむろちほう" },
  "015000": { "name": "胆振・日高地方", "kana": "いぶりひだかちほう" },
  "016030": { "name": "後志地方", "kana": "しりべしちほう" },
  "016100": { "name": "石狩・空知地方", "kana": "いしかりそらちちほう" },
  "017000": { "name": "渡島・檜山地方", "kana": "おしまひやまちほう" },
  "020000": { "name": "青森県", "kana": "あおもりけん" },
  "030000": { "name": "岩手県", "kana": "いわてけん" },
  "040000": { "name": "宮城県", "kana": "みやぎけん" },
  "050000": { "name": "秋田県", "kana": "あきたけん" },
  "060000": { "name": "山形県", "kana": "やまがたけん" },
  "070000": { "name": "福島県", "kana": "ふくしまけん" },
  "080000": { "name": "茨城県", "kana": "いばらきけん" },
  "090000": { "name": "栃木県", "kana": "とちぎけん" },
  "100000": { "name": "群馬県", "kana": "ぐんまけん" },
  "110000": { "name": "埼玉県", "kana": "さいたまけん" },
  "120000": { "name": "千葉県", "kana": "ちばけん" },
  "130000": { "name": "東京都", "kana": "とうきょうと" },
  "140000": { "name": "神奈川県", "kana": "かながわけん" },
  "150000": { "name": "新潟県", "kana": "にいがたけん" },
  "160000": { "name": "富山県", "kana": "とやまけん" },
  "170000": { "name": "石川県", "kana": "いしかわけん" },
  "180000": { "name": "福井県", "kana": "ふくいけん" },
  "190000": { "name": "山梨県", "kana": "やまなしけん" },
  "200000": { "name": "長野県", "kana": "ながのけん" },
  "210000": { "name": "岐阜県", "kana": "ぎふけん" },
  "220000": { "name": "静岡県", "kana": "しずおかけん" },
  "230000": { "name": "愛知県", "kana": "あいちけん" },
  "240000": { "name": "三重県", "kana": "みえけん" },
  "250000": { "name": "滋賀県", "kana": "しがけん" },
  "260000": { "name": "京都府", "kana": "きょうとふ" },
  "270000": { "name": "大阪府", "kana": "おおさかふ" },
  "280000": { "name": "兵庫県", "kana": "ひょうごけん" },
  "290000": { "name": "奈良県", "kana": "ならけん" },
  "300000": { "name": "和歌山県", "kana": "わかやまけん" },
  "310000": { "name": "鳥取県", "kana": "とっとりけん" },
  "320000": { "name": "島根県", "kana": "しまねけん" },
  "330000": { "name": "岡山県", "kana": "おかやまけん" },
  "340000": { "name": "広島県", "kana": "ひろしまけん" },
  "350000": { "name": "山口県", "kana": "やまぐちけん" },
  "360000": { "name": "徳島県", "kana": "とくしまけん" },
  "370000": { "name": "香川県", "kana": "かがわけん" },
  "380000": { "name": "愛媛県", "kana": "えひめけん" },
  "390000": { "name": "高知県", "kana": "こうちけん" },
  "400000": { "name": "福岡県", "kana": "ふくおかけん" },
  "410000": { "name": "佐賀県", "kana": "さがけん" },
  "420000": { "name": "長崎県", "kana": "ながさきけん" },
  "430000": { "name": "熊本県", "kana": "くまもとけん" },
  "440000": { "name": "大分県", "kana": "おおいたけん" },
  "450000": { "name": "宮崎県", "kana": "みやざきけん" },
  "460000": { "name": "鹿児島県", "kana": "かごしまけん" },
  "471000": { "name": "沖縄本島地方", "kana": "おきなわほんとうちほう" },
  "473000": { "name": "宮古島地方", "kana": "みやこじまちほう" },
  "474000": { "name": "八重山地方", "kana": "やえやまちほう" }
};

const AreaForecastLocalE = {
  "100": "石狩地方、北部",
  "101": "石狩地方、中部",
  "102": "石狩地方、南部",
  "105": "渡島地方、北部",
  "106": "渡島地方、東部",
  "107": "渡島地方、西部",
  "110": "檜山地方",
  "115": "後志地方、北部",
  "116": "後志地方、東部",
  "117": "後志地方、西部",
  "119": "北海道、奥尻島",
  "120": "空知地方、北部",
  "121": "空知地方、中部",
  "122": "空知地方、南部",
  "125": "上川地方、北部",
  "126": "上川地方、中部",
  "127": "上川地方、南部",
  "130": "留萌地方、中北部",
  "131": "留萌地方、南部",
  "135": "宗谷地方、北部",
  "136": "宗谷地方、南部",
  "139": "北海道、利尻礼文",
  "140": "網走地方",
  "141": "北見地方",
  "142": "紋別地方",
  "145": "胆振地方、西部",
  "146": "胆振地方、中東部",
  "150": "日高地方、西部",
  "151": "日高地方、中部",
  "152": "日高地方、東部",
  "155": "十勝地方、北部",
  "156": "十勝地方、中部",
  "157": "十勝地方、南部",
  "160": "釧路地方、北部",
  "161": "釧路地方、中南部",
  "165": "根室地方、北部",
  "166": "根室地方、中部",
  "167": "根室地方、南部",
  "200": "青森県、津軽、北部",
  "201": "青森県、津軽、南部",
  "202": "青森県、三八上北",
  "203": "青森県、下北",
  "210": "岩手県、沿岸、北部",
  "211": "岩手県、沿岸、南部",
  "212": "岩手県、内陸、北部",
  "213": "岩手県、内陸、南部",
  "220": "宮城県、北部",
  "221": "宮城県、南部",
  "222": "宮城県、中部",
  "230": "秋田県、沿岸、北部",
  "231": "秋田県、沿岸、南部",
  "232": "秋田県、内陸、北部",
  "233": "秋田県、内陸、南部",
  "240": "山形県、庄内",
  "241": "山形県、最上",
  "242": "山形県、村山",
  "243": "山形県、置賜",
  "250": "福島県、中通り",
  "251": "福島県、浜通り",
  "252": "福島県、会津",
  "300": "茨城県、北部",
  "301": "茨城県、南部",
  "310": "栃木県、北部",
  "311": "栃木県、南部",
  "320": "群馬県、北部",
  "321": "群馬県、南部",
  "330": "埼玉県、北部",
  "331": "埼玉県、南部",
  "332": "埼玉県、秩父",
  "340": "千葉県、北東部",
  "341": "千葉県、北西部",
  "342": "千葉県、南部",
  "350": "東京都２３区",
  "351": "東京都多摩東部",
  "352": "東京都多摩西部",
  "354": "神津島",
  "355": "伊豆大島",
  "356": "新島",
  "357": "三宅島",
  "358": "八丈島",
  "359": "小笠原",
  "360": "神奈川県、東部",
  "361": "神奈川県、西部",
  "370": "新潟県、上越",
  "371": "新潟県、中越",
  "372": "新潟県、下越",
  "375": "新潟県、佐渡",
  "380": "富山県、東部",
  "381": "富山県、西部",
  "390": "石川県、能登",
  "391": "石川県、加賀",
  "400": "福井県、嶺北",
  "401": "福井県、嶺南",
  "411": "山梨県、中・西部",
  "412": "山梨県、東部・富士五湖",
  "420": "長野県、北部",
  "421": "長野県、中部",
  "422": "長野県、南部",
  "430": "岐阜県、飛騨",
  "431": "岐阜県、美濃、東部",
  "432": "岐阜県、美濃、中西部",
  "440": "静岡県、伊豆",
  "441": "静岡県、東部",
  "442": "静岡県、中部",
  "443": "静岡県、西部",
  "450": "愛知県、東部",
  "451": "愛知県、西部",
  "460": "三重県、北部",
  "461": "三重県、中部",
  "462": "三重県、南部",
  "500": "滋賀県、北部",
  "501": "滋賀県、南部",
  "510": "京都府、北部",
  "511": "京都府、南部",
  "520": "大阪府、北部",
  "521": "大阪府、南部",
  "530": "兵庫県、北部",
  "531": "兵庫県、南東部",
  "532": "兵庫県、南西部",
  "535": "兵庫県、淡路島",
  "540": "奈良県",
  "550": "和歌山県、北部",
  "551": "和歌山県、南部",
  "560": "鳥取県、東部",
  "562": "鳥取県、中部",
  "563": "鳥取県、西部",
  "570": "島根県、東部",
  "571": "島根県、西部",
  "575": "島根県、隠岐",
  "580": "岡山県、北部",
  "581": "岡山県、南部",
  "590": "広島県、北部",
  "591": "広島県、南東部",
  "592": "広島県、南西部",
  "600": "徳島県、北部",
  "601": "徳島県、南部",
  "610": "香川県、東部",
  "611": "香川県、西部",
  "620": "愛媛県、東予",
  "621": "愛媛県、中予",
  "622": "愛媛県、南予",
  "630": "高知県、東部",
  "631": "高知県、中部",
  "632": "高知県、西部",
  "700": "山口県、北部",
  "702": "山口県、西部",
  "703": "山口県、東部",
  "704": "山口県、中部",
  "710": "福岡県、福岡",
  "711": "福岡県、北九州",
  "712": "福岡県、筑豊",
  "713": "福岡県、筑後",
  "720": "佐賀県、北部",
  "721": "佐賀県、南部",
  "730": "長崎県、北部",
  "731": "長崎県、南西部",
  "732": "長崎県、島原半島",
  "735": "長崎県、対馬",
  "736": "長崎県、壱岐",
  "737": "長崎県、五島",
  "740": "熊本県、阿蘇",
  "741": "熊本県、熊本",
  "742": "熊本県、球磨",
  "743": "熊本県、天草・芦北",
  "750": "大分県、北部",
  "751": "大分県、中部",
  "752": "大分県、南部",
  "753": "大分県、西部",
  "760": "宮崎県、北部、平野部",
  "761": "宮崎県、北部、山沿い",
  "762": "宮崎県、南部、平野部",
  "763": "宮崎県、南部、山沿い",
  "770": "鹿児島県、薩摩",
  "771": "鹿児島県、大隅",
  "774": "鹿児島県、十島村",
  "775": "鹿児島県、甑島",
  "776": "鹿児島県、種子島",
  "777": "鹿児島県、屋久島",
  "778": "鹿児島県、奄美、北部",
  "779": "鹿児島県、奄美、南部",
  "800": "沖縄県、本島、北部",
  "801": "沖縄県、本島、中南部",
  "802": "沖縄県、久米島",
  "803": "沖縄県、大東島",
  "804": "沖縄県、宮古島",
  "805": "沖縄県、石垣島",
  "806": "沖縄県、与那国島",
  "807": "沖縄県、西表島"
};

const AreaForecastLocalM_warn = {
  "011000": "宗谷地方",
  "012010": "上川地方",
  "012020": "留萌地方",
  "013000": "網走・北見・紋別地方",
  "014010": "根室地方",
  "014020": "釧路地方",
  "014030": "十勝地方",
  "015010": "胆振地方",
  "015020": "日高地方",
  "016010": "石狩地方",
  "016020": "空知地方",
  "016030": "後志地方",
  "017010": "渡島地方",
  "017020": "檜山地方",
  "020000": "青森県",
  "030000": "岩手県",
  "040000": "宮城県",
  "050000": "秋田県",
  "060000": "山形県",
  "070000": "福島県",
  "080000": "茨城県",
  "090000": "栃木県",
  "100000": "群馬県",
  "110000": "埼玉県",
  "120000": "千葉県",
  "130000": "東京都",
  "140000": "神奈川県",
  "150000": "新潟県",
  "160000": "富山県",
  "170000": "石川県",
  "180000": "福井県",
  "190000": "山梨県",
  "200000": "長野県",
  "210000": "岐阜県",
  "220000": "静岡県",
  "230000": "愛知県",
  "240000": "三重県",
  "250000": "滋賀県",
  "260000": "京都府",
  "270000": "大阪府",
  "280000": "兵庫県",
  "290000": "奈良県",
  "300000": "和歌山県",
  "310000": "鳥取県",
  "320000": "島根県",
  "330000": "岡山県",
  "340000": "広島県",
  "350000": "山口県",
  "360000": "徳島県",
  "370000": "香川県",
  "380000": "愛媛県",
  "390000": "高知県",
  "400000": "福岡県",
  "410000": "佐賀県",
  "420000": "長崎県",
  "430000": "熊本県",
  "440000": "大分県",
  "450000": "宮崎県",
  "460040": "奄美地方",
  "460100": "奄美地方以外の鹿児島県",
  "471000": "沖縄本島地方",
  "472000": "大東島地方",
  "473000": "宮古島地方",
  "474000": "八重山地方"
};

const SpeakerData = {
  "21": {
    speedScale: 1.24,
    pitchScale: 0.07,
    intonationScale: 0.79,
    volumeScale: 1.43,
    outputStereo: false
  },
  // "8": { // EEWのやつ
  //   speedScale: 1.01,
  //   pitchScale: -0.02,
  //   intonationScale: 0.86,
  //   volumeScale: 3.50,
  //   outputStereo: false
  // },
  "8": {
    speedScale: 1.01,
    pitchScale: -0.01,
    intonationScale: 1,
    volumeScale: 3,
    outputStereo: false
  },
};

// (async () => {
//   const query = (await post_audio_query("小笠原諸島、西方沖", 21)).data;
  // for (const item of query.accent_phrases){
  //   if (item.pause_mora){
  //     item.pause_mora.vowel_length = 0.05;
  //   }
  // }
//   query.speedScale = 1.24;
//   query.pitchScale = 0.07;
//   query.intonationScale = 0.79;
//   query.volumeScale = 1.43;
//   query.outputStereo = false;
//   const data = await post_synthesis(query, 21);
//   console.log(data);
// })();

(async () => {
  const speakerId = 8;
  // for (let i=30; i<40; i++){
    // const query = (await post_audio_query((i / 10).toFixed(1), speakerId)).data;
    // const query = (await post_audio_query(i + "キロメートル", speakerId)).data;
  for (const [id, text] of Object.entries(AreaForecastLocalM_warn)){
    // if (id < 150 || id > 152) continue;
    // const query = (await post_audio_query(text, speakerId)).data;
    const query = (await post_audio_query(text + "に", speakerId)).data;
    // const query = (await post_audio_query("700キロメートル以上", speakerId)).data;
    for (const item of query.accent_phrases){
      // console.log(item);
      if (item.pause_mora){
        item.pause_mora.vowel_length = 0;
        // console.log(item.moras);
        item.moras.at(-1).vowel_length = 0.1;
      }
    }
    // query.accent_phrases[0].moras[0].pitch = 6.00; // 「3.」問題
    // query.accent_phrases[0].moras[1].pitch = 6.02;
    // query.accent_phrases[0].moras[2].pitch = 5.76;
    // query.accent_phrases[0].moras[3].pitch = 5.26;
    // query.accent_phrases[1].moras.map(item => item.pitch -= 0.12);
    // return;
    query.speedScale = SpeakerData[speakerId].speedScale;
    query.pitchScale = SpeakerData[speakerId].pitchScale;
    query.intonationScale = SpeakerData[speakerId].intonationScale;
    query.volumeScale = SpeakerData[speakerId].volumeScale;
    query.outputStereo = SpeakerData[speakerId].outputStereo;
    query.postPhonemeLength = 0.01;
    const content = await post_synthesis(query, speakerId);
    // fs.writeFileSync("../md-ndv356.github.io/ndv-tickers/synthesized-speech/speaker"+speakerId+"/quake/magnitude/"+(i+"").padStart(2, "0")+".wav", content.data);
    fs.writeFileSync("../md-ndv356.github.io/ndv-tickers/synthesized-speech/speaker"+speakerId+"/warning/preference/"+id+".wav", content.data);
    console.log(id);
    // return;
  }
})();

// axios.post("http://localhost:50021/synthesis?speaker=1", {
// }).then(res => {
//   console.log(res.data);
// });
